<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Immutable JSON patch</title>
</head>
<body>
  <script type="module">
    import { immutableJSONPatch, revertJSONPatch } from '../../lib/esm/index.js'

    const json = {}
    const operations = [
      { op: 'add', path: '/hello', value: 'world' }
    ]

    const updatedJson = immutableJSONPatch(json, operations)
    document.body.appendChild(document.createTextNode('updated json:' + JSON.stringify(updatedJson)))
    document.body.appendChild(document.createElement('BR'))

    const reverseOperations = revertJSONPatch(json, operations)
    const revertedJson = immutableJSONPatch(updatedJson, reverseOperations)
    document.body.appendChild(document.createTextNode('reverted json:' + JSON.stringify(revertedJson)))
    document.body.appendChild(document.createElement('BR'))
  </script>
</body>
</html>
